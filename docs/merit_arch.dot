digraph MERIT_ARCH {
  graph [rankdir=TB, splines=ortho, bgcolor="white", pad=0.10, nodesep=0.18, ranksep=0.26];
  node  [shape=box, style="filled", fillcolor="#F7FAFF", color="#2663EB", fontname="Helvetica", fontsize=9];
  edge  [color="#7F8C8D", arrowsize=0.7, penwidth=1.1];

  /* ===== Left: Temporal Modeling (与 MedGNN 一致) ===== */
  subgraph cluster_left {
    label="Temporal Modeling";
    labelloc=t; fontsize=11; fontname="Helvetica-Bold"; color="#95A5A6"; style="rounded";

    X      [label="Medical Time Series"];
    MR     [label="Multi-Resolution Sampling"];
    FE     [label="Frequency Embedding"];
    DIFF   [label="Difference Attention"];
    SUM    [label="Per-Resolution Fusion"];
    ENC    [label="Transformer Encoder"];

    X -> MR;
    MR -> FE;
    MR -> DIFF;
    FE -> SUM;
    DIFF -> SUM;
    SUM -> ENC;
  }

  /* ===== Right: EviMR (严格 ETMC DS 融合 + 伪视图 + 损失) ===== */
  subgraph cluster_right {
    label="EviMR Fusion";
    labelloc=t; fontsize=11; fontname="Helvetica-Bold"; color="#95A5A6"; style="rounded";

    EHEAD   [label="Evidence Estimation", fillcolor="#FFF9F9", color="#FF7675"];
    PV      [label="Pseudo-View Evidence", style="dashed", fillcolor="#F6FFFB", color="#00B894"];
    DS      [label="Dempster–Shafer Fusion", fillcolor="#FFF9F9", color="#FF7675"];
    PRED    [label="Classification", fillcolor="#FFF9F9", color="#FF7675"];

    EHEAD -> DS [constraint=true];
    PV -> DS [constraint=true, style=dashed, color="#00B894"];
    DS -> PRED [constraint=true];
  }

  /* ===== Bridge: 上→下 ===== */
  ENC -> EHEAD [color="#95A5A6", constraint=true];
}


